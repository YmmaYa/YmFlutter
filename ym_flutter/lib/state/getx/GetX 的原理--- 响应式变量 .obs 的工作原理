
GetX æ˜¯ Flutter ä¸­æµè¡Œçš„çŠ¶æ€ç®¡ç†åº“ï¼Œå…¶å“åº”å¼å˜é‡ï¼ˆé€šè¿‡ .obs åˆ›å»ºï¼‰çš„æ ¸å¿ƒåŸç†éå¸¸ç²¾å·§ã€‚

1. åŸºæœ¬æ¦‚å¿µ
    â„ï¸ .obs æ˜¯ GetX å“åº”å¼ç¼–ç¨‹çš„æ ¸å¿ƒï¼Œå®ƒé€šè¿‡ä»¥ä¸‹æ–¹å¼åˆ›å»ºå“åº”å¼å˜é‡ï¼š

            var count = 0.obs;  // åˆ›å»ºä¸€ä¸ªå“åº”å¼æ•´æ•°

2. åº•å±‚å®ç°åŸç†
    ğŸ“Œï¼ˆ1ï¼‰Rx<T> ç±»å‹
            â„ï¸ .obs å®é™…ä¸Šæ˜¯ Rx<T> ç±»å‹çš„ç®€å†™å½¢å¼ï¼š

                Rx<int> count = Rx<int>(0);
                // ç­‰ä»·äº
                var count = 0.obs;

    ğŸ“Œï¼ˆ2ï¼‰æ ¸å¿ƒæœºåˆ¶
    ğŸ“’** å€¼åŒ…è£…ï¼š
            â„ï¸ .obs å°†åŸå§‹å€¼åŒ…è£…åœ¨ Rx å¯¹è±¡ä¸­ï¼›
            â„ï¸ è¿™ä¸ªå¯¹è±¡ç»§æ‰¿è‡ª RxInterfaceï¼Œå®ç°äº†å“åº”å¼èƒ½åŠ›
    ğŸ“’** è§‚å¯Ÿè€…æ¨¡å¼ï¼š
            â„ï¸ æ¯ä¸ª Rx å¯¹è±¡ç»´æŠ¤ä¸€ä¸ªè§‚å¯Ÿè€…åˆ—è¡¨
            â„ï¸ å½“å€¼å˜åŒ–æ—¶é€šçŸ¥æ‰€æœ‰è§‚å¯Ÿè€…
    ğŸ“’** ä»£ç†æœºåˆ¶ï¼š
            extension IntExtension on int {
              RxInt get obs => RxInt(this);
            }
3. å“åº”å¼æ›´æ–°çš„è§¦å‘æµç¨‹
    å½“ä½¿ç”¨ Obx æˆ– GetX ç»„ä»¶æ—¶ï¼š
    ğŸ“Œï¼ˆ1ï¼‰ç»„ä»¶æ³¨å†Œï¼š
                Obx(() => Text('${count.value}'))
            â„ï¸ Obx å†…éƒ¨åˆ›å»ºä¸€ä¸ª RxNotifier
            â„ï¸ è‡ªåŠ¨è®¢é˜…æ‰€æœ‰åœ¨ builder å‡½æ•°å†…ä½¿ç”¨çš„ .obs å˜é‡
    ğŸ“Œï¼ˆ2ï¼‰å€¼å˜æ›´æµç¨‹ï¼š
                count.value++;  // è§¦å‘æ›´æ–°
            â„ï¸ è°ƒç”¨ value çš„ setter æ–¹æ³•
            â„ï¸ é€šçŸ¥æ‰€æœ‰è®¢é˜…è€…é‡å»ºç»„ä»¶
4. å…³é”®æºç åˆ†æ
    âœ… 4.1 Rx<T> æ ¸å¿ƒæºç ï¼š
            abstract class Rx<T> extends RxInterface<T> {
              Rx(T initial) : _value = initial;

              T _value;

              T get value {
                // æ³¨å†Œå½“å‰ç›‘å¬ä¸Šä¸‹æ–‡
                if (RxInterface.proxy != null) {
                  RxInterface.proxy!.addListener(this);
                }
                return _value;
              }

              set value(T val) {
                if (_value == val) return;
                _value = val;
                // é€šçŸ¥æ‰€æœ‰ç›‘å¬è€…
                notifyListeners();
              }
            }

    âœ… 4.2 Obx ç»„ä»¶åŸç†ï¼š
            class Obx extends ObxWidget {
              final WidgetCallback builder;

              @override
              Widget build() {
                // åˆ›å»ºå“åº”å¼ä¸Šä¸‹æ–‡
                return RxNotifier.instance.run(builder);
              }
            }
5. æ€§èƒ½ä¼˜åŒ–è®¾è®¡
    ğŸ“Œï¼ˆ1ï¼‰è‡ªåŠ¨è®¢é˜…/å–æ¶ˆè®¢é˜…ï¼š
            â„ï¸ ç»„ä»¶æŒ‚è½½æ—¶è‡ªåŠ¨è®¢é˜…
            â„ï¸ ç»„ä»¶å¸è½½æ—¶è‡ªåŠ¨å–æ¶ˆè®¢é˜…
    ğŸ“Œï¼ˆ2ï¼‰å€¼å˜åŒ–æ¯”å¯¹ï¼š
            set value(T val) {
              if (_value == val) return;  // å€¼ç›¸åŒæ—¶ä¸è§¦å‘æ›´æ–°
              // ...
            }
    ğŸ“Œï¼ˆ3ï¼‰æœ€å°åŒ–é‡å»ºèŒƒå›´ï¼š
            â„ï¸ åªæœ‰å®é™…ä½¿ç”¨è¯¥å˜é‡çš„ç»„ä»¶ä¼šé‡å»º
6. ä¸å…¶å®ƒæ–¹æ¡ˆçš„å¯¹æ¯”
    ç‰¹æ€§	            GetX (.obs)	    Provider	Bloc
    è‡ªåŠ¨è®¢é˜…/å–æ¶ˆè®¢é˜…	âœ…	            âŒ	        âŒ
    æœ€å°åŒ–é‡å»º	    âœ…	            âŒ	        âœ…
    ä»£ç ç®€æ´åº¦	    âœ…	            âŒ	        âŒ
    å­¦ä¹ æ›²çº¿	        âœ…	            âœ…	        âŒ
7. é«˜çº§ç”¨æ³•åŸç†
    ğŸ“Œï¼ˆ1ï¼‰è‡ªå®šä¹‰å“åº”å¼ç±»ï¼š
            class User {
              var name = "".obs;
              var age = 0.obs;

              // ä½¿æ•´ä¸ªç±»å¯è§‚å¯Ÿ
              User({String? name, int? age}) {
                this.name.value = name ?? '';
                this.age.value = age ?? 0;
              }
            }

            final user = User(name: "John", age: 25).obs;
    ğŸ“Œï¼ˆ2ï¼‰åµŒå¥—å“åº”å¼ï¼š
            class User {
              final String name;
              final int age;
              User(this.name, this.age);
            }

            final users = <User>[].obs;

            // è‡ªåŠ¨æ·±åº¦è§‚å¯Ÿ
            Obx(() => Text('Count: ${users.length}'));
8. é™åˆ¶ä¸æ³¨æ„äº‹é¡¹
    ğŸ“Œï¼ˆ1ï¼‰.obs å˜é‡åº”å§‹ç»ˆç”¨äºçŠ¶æ€ç®¡ç†ï¼Œä¸è¦åœ¨ Widget æ„å»ºä¸­åˆ›å»º
    ğŸ“Œï¼ˆ2ï¼‰é¿å…åœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ .obsï¼Œå¯èƒ½å¯¼è‡´åˆå§‹åŒ–é—®é¢˜
    ğŸ“Œï¼ˆ3ï¼‰å¯¹äºå¤æ‚å¯¹è±¡ï¼Œæ¨èä½¿ç”¨ Rx<MyClass> è€Œéç±»å†…éƒ¨å±æ€§å…¨ç”¨ .obs

GetX çš„ .obs é€šè¿‡å·§å¦™çš„ä»£ç†æ¨¡å¼å’Œè‡ªåŠ¨è®¢é˜…æœºåˆ¶ï¼Œå®ç°äº†æç®€APIä¸‹çš„é«˜æ•ˆçŠ¶æ€ç®¡ç†ï¼Œæ˜¯å…¶æœ€å—æ¬¢è¿çš„ç‰¹æ€§ä¹‹ä¸€ã€‚